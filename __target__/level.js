'use strict';import{AssertionError,AttributeError,BaseException,DeprecationWarning,Exception,IndexError,IterableError,KeyError,NotImplementedError,RuntimeWarning,StopIteration,UserWarning,ValueError,Warning,__JsIterator__,__PyIterator__,__Terminal__,__add__,__and__,__call__,__class__,__envir__,__eq__,__floordiv__,__ge__,__get__,__getcm__,__getitem__,__getslice__,__getsm__,__gt__,__i__,__iadd__,__iand__,__idiv__,__ijsmod__,__ilshift__,__imatmul__,__imod__,__imul__,__in__,__init__,__ior__,__ipow__,
__irshift__,__isub__,__ixor__,__jsUsePyNext__,__jsmod__,__k__,__kwargtrans__,__le__,__lshift__,__lt__,__matmul__,__mergefields__,__mergekwargtrans__,__mod__,__mul__,__ne__,__neg__,__nest__,__or__,__pow__,__pragma__,__proxy__,__pyUseJsNext__,__rshift__,__setitem__,__setproperty__,__setslice__,__sort__,__specialattrib__,__sub__,__super__,__t__,__terminal__,__truediv__,__withblock__,__xor__,abs,all,any,assert,bool,bytearray,bytes,callable,chr,copy,deepcopy,delattr,dict,dir,divmod,enumerate,filter,float,
getattr,hasattr,input,int,isinstance,issubclass,len,list,map,max,min,object,ord,pow,print,property,py_TypeError,py_iter,py_metatype,py_next,py_reversed,py_typeof,range,repr,round,set,setattr,sorted,str,sum,tuple,zip}from"./org.transcrypt.__runtime__.js";import{choice}from"./random.js";import{EXA}from"./EXA.js";var __name__="__main__";export var Level=__class__("Level",[object],{__module__:__name__,get __init__(){return __get__(this,function(self,data){self.cyc=0;self.exas=[];for(var host of data["hosts"])for(var i=
0;i<len(data["hosts"][host]["files"]);i++)data["hosts"][host]["files"][i]=File(data["hosts"][host]["files"][i][0],data["hosts"][host]["files"][i][1],host);self.hosts=data["hosts"];for(var code of data["exas"]){for(var i=0;i<len(code);i++){try{code[i]=code[i].__getslice__(0,code[i].index("#"),1).py_split()}catch(__except0__){if(isinstance(__except0__,ValueError))code[i]=code[i].py_split();else throw __except0__;}for(var j=0;j<len(code[i]);j++)try{code[i][j]=int(code[i][j])}catch(__except0__){if(isinstance(__except0__,
ValueError))code[i][j]=code[i][j];else throw __except0__;}}while(__in__([],code))code.remove([]);self.exas.append(EXA(self,code,"AHIZOME","X"+chr(ord("A")+len(self.exas))))}self.cycle()})},get __repr__(){return __get__(this,function(self){return str(self.hosts)})},get files(){return __get__(this,function(self){var files=[];for(var host of self.hosts)files+=self.hosts[host]["files"];return files})},get grab(){return __get__(this,function(self,host,id){for(var file of self.files())if(file.host==host&&
file.id==id)return file;return false})},get kill(){return __get__(this,function(self,py_name,host){var exas=[];for(var exa of self.exas)if(exa.py_name!=py_name&&exa.host==host)exas.append(exa);choice(exas).halt()})},get cycle(){return __get__(this,function(self){for(var exa of self.exas)exa.eval(self.cyc);if(any(function(){var __accu0__=[];for(var e of self.exas)__accu0__.append(e.line<len(e.code));return __accu0__}())){self.cyc++;self.cycle()}})}});

//# sourceMappingURL=level.map